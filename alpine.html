<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Example Alpine</title>
    <script type="text/javascript" src="js/alpine.js" defer></script>
</head>
<body>
    <div x-data="handler()">
        <div>
            <button @click="contador ++">Aumentar</button>
            <button @click="contador --">Disminuir</button>
            <p x-text="contador"></p>
        </div>
        <div>
            <input type="text" x-model="nombre">
            <button @click="addName()">Agregar</button>

            <ul>
                <template x-for="valor in lista">
                    <li x-text="valor"></li>
                </template>
            </ul>

        </div>
        <div>
            <input type="number" x-model="personaje">
            <button @click="loadAPI">Load API</button>
        </div>
    </div>
</body>
<script type="text/javascript">
    function handler(){
        return{
            contador:0,
            nombre:"",
            lista:[],
            datosPersonaje:[],
            personaje:0,
            url:"https://rickandmortyapi.com/api/character/:id",
            addName(){
                if(this.nombre=!"") {
                    this.lista.push(this.nombre)
                    this.nombre="";
                }
                else
                    alert("no existe un valor");
            },
            async loadAPI() {
                this.datosPersonaje = await (await fetch(this.url.replace(':id', this.personaje))).json();
                // log out all the posts to the console
                console.log(this.datosPersonaje);
            }

        }}
</script>
</html>